<!DOCTYPE html>
<html lang="bn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>মানিকদাহ হাউজিং প্রকল্প</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
<style>
body { font-family: 'Arial', sans-serif; margin:0; padding:0; background:#f4f4f9; }
header { background:#004080; color:white; padding:10px 20px; display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap;}
header h1 { margin:0; font-size:1.5em;}
nav { display:flex; gap:10px; flex-wrap:wrap;}
nav button { background:#0066cc; color:white; border:none; padding:8px 12px; border-radius:5px; cursor:pointer; transition:.3s;}
nav button:hover { background:#0052a3;}

/* লগইন পেজ */
#loginPage { display:flex; justify-content:center; align-items:center; height:100vh; background:linear-gradient(to right,#00c6ff,#0072ff); flex-direction:column; color:white;}
#loginPage input[type="password"] { padding:10px; border-radius:5px; border:none; margin-bottom:10px; width:200px;}
#loginPage button { padding:10px 20px; border:none; border-radius:5px; background:#ffcc00; color:#004080; font-weight:bold; cursor:pointer; transition:.3s;}
#loginPage button:hover { background:#e6b800;}

/* হোমপেজ */
#homePage { display:none; padding:20px;}
#plotsContainer { display:grid; grid-template-columns:repeat(auto-fit, minmax(80px, 1fr)); gap:10px; margin-top:20px;}
.plotBtn { background:#00b300; color:white; padding:15px; border-radius:5px; border:none; cursor:pointer; transition:.3s;}
.plotBtn:hover { background:#009900; transform:scale(1.1);}

/* প্লট বিস্তারিত পেজ */
#plotDetailPage, #adminPage, #pdfViewer, #mapSection { display:none; padding:20px;}
.detailBox, #adminForm { background:white; padding:20px; border-radius:10px; box-shadow:0 0 10px rgba(0,0,0,0.1); max-width:400px; margin:auto;}
.detailBox h2, #adminPage h2, #pdfViewer h2 { color:#004080; text-align:center;}
.detailBox p { margin:5px 0; }
.detailBox button, #adminForm button, .backBtn { margin-top:10px; padding:10px; background:#004080; color:white; border:none; border-radius:5px; cursor:pointer; transition:.3s;}
.detailBox button:hover, #adminForm button:hover, .backBtn:hover { background:#003366;}

/* অ্যাডমিন ফর্ম */
#adminForm { display:flex; flex-direction:column;}
#adminForm input, #adminForm select { margin:8px 0; padding:8px; border-radius:5px; border:1px solid #ccc; }

/* PDF viewer */
#pdfViewer embed { width:100%; height:600px; }

/* রেসপনসিভ */
@media(max-width:600px){
    header { flex-direction:column; gap:10px; }
    #plotsContainer { grid-template-columns:repeat(auto-fit,minmax(60px,1fr)); }
}
</style>
</head>
<body>

<!-- লগইন -->
<div id="loginPage">
    <h1>মানিকদাহ হাউজিং প্রকল্প লগইন</h1>
    <input type="password" id="passwordInput" placeholder="পাসওয়ার্ড দিন">
    <button onclick="login()">লগইন</button>
</div>

<!-- হোমপেজ -->
<div id="homePage">
    <header>
        <h1><i class="fa-solid fa-house"></i>মানিকদাহ হাউজিং প্রকল্প</h1>
        <nav>
            <button onclick="showAdmin()"><i class="fa-solid fa-user-gear"></i> এডমিন</button>
            <button onclick="showMap()"><i class="fa-solid fa-map"></i> ম্যাপ</button>
            <button onclick="showPlots()"><i class="fa-solid fa-list"></i> প্লট তালিকা</button>
            <button onclick="showSearch()"><i class="fa-solid fa-magnifying-glass"></i> সার্চ</button>
            <button onclick="showPDF()"><i class="fa-solid fa-file-pdf"></i> নামজারি / ম্যাপ</button>
            <button onclick="logout()"><i class="fa-solid fa-right-from-bracket"></i> লগআউট</button>
        </nav>
    </header>

    <div id="plotsContainer">
        <script>
        for(let i=1;i<=172;i++){
            document.write(`<button class="plotBtn" onclick="showPlotDetail(${i})">Plot ${i}</button>`);
        }
        </script>
    </div>
</div>

<!-- প্লট বিস্তারিত -->
<div id="plotDetailPage">
    <div class="detailBox">
        <h2>Plot Details</h2>
        <p id="ownerName"></p>
        <p id="nidNumber"></p>
        <p id="dagNumber"></p>
        <p id="landArea"></p>
        <p id="registered"></p>
        <button class="backBtn" onclick="backToPlots()">Back</button>
    </div>
</div>

<!-- অ্যাডমিন -->
<div id="adminPage">
    <h2>অ্যাডমিন সেকশন</h2>
    <form id="adminForm">
        <label>প্লট নং</label>
        <input type="number" id="adminPlot" min="1" max="172" required>
        <label>মালিকের নাম</label>
        <input type="text" id="adminOwner" required>
        <label>এনআইডি নং</label>
        <input type="text" id="adminNID" required>
        <label>দাগ নং</label>
        <input type="text" id="adminDag" required>
        <label>জমির পরিমাণ</label>
        <input type="text" id="adminArea" required>
        <label>নামজারি হয়েছে কি না</label>
        <select id="adminRegistered">
            <option value="হ্যাঁ">হ্যাঁ</option>
            <option value="না">না</option>
        </select>
        <label>PDF আপলোড (নামজারি/ম্যাপ)</label>
        <input type="file" id="pdfUpload" accept="application/pdf">
        <button type="button" onclick="savePlotData()">Save / Update</button>
        <button type="button" onclick="deletePlotData()">Delete</button>
        <button type="button" class="backBtn" onclick="backToHome()">Back to Home</button>
    </form>
</div>

<!-- PDF Viewer -->
<div id="pdfViewer">
    <h2>নামজারি / ম্যাপ</h2>
    <embed id="pdfEmbed" type="application/pdf">
    <button class="backBtn" onclick="backToHome()">Back</button>
</div>

<!-- ম্যাপ সেকশন -->
<div id="mapSection">
    <h2>ম্যাপ সেকশন</h2>
    <p style="text-align:center;">আপনি এখানে যেকোনো ম্যাপ প্রদর্শন করতে পারবেন।</p>
    <button class="backBtn" onclick="backToHome()">Back</button>
</div>

<!-- সার্চ -->
<div id="searchSection" style="display:none; padding:20px;">
    <h2 style="text-align:center;">প্লট / দাগ নং সার্চ</h2>
    <input type="number" id="searchPlot" placeholder="প্লট নং লিখুন" min="1" max="172">
    <button onclick="searchPlot()">Search</button>
    <button class="backBtn" onclick="backToHome()">Back</button>
</div>

<script>
const PASSWORD="admin123"; // পরিবর্তনযোগ্য

function login(){
    const input = document.getElementById("passwordInput").value;
    if(input===PASSWORD){
        document.getElementById("loginPage").style.display="none";
        document.getElementById("homePage").style.display="block";
    }else{ alert("পাসওয়ার্ড ভুল হয়েছে!"); }
}

function logout(){
    document.getElementById("loginPage").style.display="flex";
    document.getElementById("homePage").style.display="none";
    document.getElementById("adminPage").style.display="none";
    document.getElementById("plotDetailPage").style.display="none";
    document.getElementById("pdfViewer").style.display="none";
    document.getElementById("mapSection").style.display="none";
    document.getElementById("searchSection").style.display="none";
}

// ডেটা সংরক্ষণ
function savePlotData(){
    const plotNo=document.getElementById("adminPlot").value;
    if(!plotNo){ alert("প্লট নং দিন!"); return; }
    const data={
        owner: document.getElementById("adminOwner").value,
        nid: document.getElementById("adminNID").value,
        dag: document.getElementById("adminDag").value,
        area: document.getElementById("adminArea").value,
        registered: document.getElementById("adminRegistered").value
    };
    localStorage.setItem("plot_"+plotNo, JSON.stringify(data));

    // PDF আপলোড
    const pdfFile=document.getElementById("pdfUpload").files[0];
    if(pdfFile){
        const reader=new FileReader();
        reader.onload=function(e){ localStorage.setItem("pdf_"+plotNo,e.target.result);}
        reader.readAsDataURL(pdfFile);
    }
    alert("ডেটা সংরক্ষণ করা হয়েছে!");
}

function deletePlotData(){
    const plotNo=document.getElementById("adminPlot").value;
    if(confirm("ডেটা মুছে ফেলতে চান?")){
        localStorage.removeItem("plot_"+plotNo);
        localStorage.removeItem("pdf_"+plotNo);
        alert("ডেটা মুছে ফেলা হয়েছে!");
    }
}

function showPlotDetail(plotNo){
    const data=JSON.parse(localStorage.getItem("plot_"+plotNo));
    document.getElementById("homePage").style.display="none";
    document.getElementById("plotDetailPage").style.display="block";
    document.getElementById("ownerName").innerText="মালিকের নাম: "+(data?data.owner:"অজানা");
    document.getElementById("nidNumber").innerText="এনআইডি নং: "+(data?data.nid:"-");
    document.getElementById("dagNumber").innerText="দাগ নং: "+(data?data.dag:"-");
    document.getElementById("landArea").innerText="জমির পরিমাণ: "+(data?data.area:"-");
    document.getElementById("registered").innerText="নামজারি: "+(data?data.registered:"-");

    const pdf=localStorage.getItem("pdf_"+plotNo);
    if(pdf){ document.getElementById("pdfEmbed").src=pdf; }
}

function backToPlots(){
    document.getElementById("plotDetailPage").style.display="none";
    document.getElementById("homePage").style.display="block";
}

function showAdmin(){
    hideAllSections();
    document.getElementById("adminPage").style.display="block";
}
function showMap(){ hideAllSections(); document.getElementById("mapSection").style.display="block"; }
function showPDF(){ hideAllSections(); document.getElementById("pdfViewer").style.display="block"; }
function showPlots(){ hideAllSections(); document.getElementById("homePage").style.display="block"; }
function showSearch(){ hideAllSections(); document.getElementById("searchSection").style.display="block"; }
function backToHome(){ hideAllSections(); document.getElementById("homePage").style.display="block"; }

function hideAllSections(){
    document.getElementById("homePage").style.display="none";
    document.getElementById("adminPage").style.display="none";
    document.getElementById("plotDetailPage").style.display="none";
    document.getElementById("pdfViewer").style.display="none";
    document.getElementById("mapSection").style.display="none";
    document.getElementById("searchSection").style.display="none";
}

// সার্চ
function searchPlot(){
    const plotNo=document.getElementById("searchPlot").value;
    if(plotNo>=1 && plotNo<=172){ showPlotDetail(plotNo); }
    else{ alert("প্লট নং 1 থেকে 172 এর মধ্যে হতে হবে।"); }
}
</script>
</body>
</html>
